inner must be a mutable instance of a type implementing Buf, and must not be empty or accessed without a valid mutable reference.
