data: valid AtomicPtr pointing to a Shared instance with ref_count == 1; ptr: valid non-null pointer to memory allocated for at least len bytes; len: usize in the range 1 to MAX_VEC_POS (inclusive) and must not exceed the allocated memory size
