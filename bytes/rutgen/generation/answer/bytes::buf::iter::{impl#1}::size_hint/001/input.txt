0 <= remaining <= max_buffer_size, where max_buffer_size is the maximum capacity of the Buf implementation.
