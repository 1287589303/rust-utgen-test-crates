self.remaining() should be in the range [1, N] where N is the maximum value supported by the buffer, and self.chunk() should contain at least one byte.
