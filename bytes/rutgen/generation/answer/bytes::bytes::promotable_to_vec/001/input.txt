data is a valid AtomicPtr pointing to a memory block of kind KIND_ARC, ptr is a non-null pointer to a valid buffer, len is a non-negative integer not exceeding the buffer's capacity, and f is a valid function taking a mutable pointer and returning a pointer of type *mut u8.
