data: valid AtomicPtr pointing to a Shared structure; ptr: valid non-null pointer to u8 data; len: non-negative value indicating the number of bytes to copy, with an upper limit defined by the capacity of the Shared structure.
