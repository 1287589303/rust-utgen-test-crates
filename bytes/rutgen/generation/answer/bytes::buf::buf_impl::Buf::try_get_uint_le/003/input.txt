0 < nbytes <= 8, buf.remaining() >= nbytes for successful case, buf.remaining() < nbytes for error case
