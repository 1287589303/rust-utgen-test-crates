self: non-null mutable reference of type &mut AtomicPtr<T>; f: closure that takes a mutable reference to *mut T and returns R; T should be a valid type; R should be a valid return type depending on the closure.
