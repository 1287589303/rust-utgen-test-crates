data: mutable AtomicPtr<()>, ptr: pointer to allocated memory, len: size of the memory pointed to by ptr, data should point to a valid shared reference, len must be greater than zero, kind must be either KIND_ARC or KIND_VEC
