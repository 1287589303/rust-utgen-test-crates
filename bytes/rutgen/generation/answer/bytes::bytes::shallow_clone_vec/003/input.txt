ptr: any pointer to an allocated memory not matching shared's value, buf: valid mutable pointer to allocated buffer, offset: valid pointer within buf, len: any positive size that does not exceed the capacity of buf, atom: AtomicPtr initialized with a pointer that differs from ptr.
