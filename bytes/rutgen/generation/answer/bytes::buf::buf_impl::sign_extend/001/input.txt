val: 0 to 2^64-1, nbytes: 1 to 8, nbytes <= 8, nbytes > 0, edge cases including nbytes = 1 and nbytes = 8
