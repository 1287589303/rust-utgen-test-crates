state matches State::First or State::Rest; ser.formatter.end_array(&mut ser.writer).map_err(Error::io) returns core::result::Result::Err(err)
