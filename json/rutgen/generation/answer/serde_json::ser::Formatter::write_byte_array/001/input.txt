self.begin_array(writer) must return core::result::Result::Err(err) when writer is null, when value is an empty array, or when value contains non-byte values.
