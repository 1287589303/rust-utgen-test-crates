self.index must be equal to or greater than the length of self.slice, and self.slice must be empty or have fewer than 4 bytes.
