self must be a Value::Array with an empty vec or containing elements that lead to an Err during formatter.write_str, and the formatter must not handle the write operation correctly.
