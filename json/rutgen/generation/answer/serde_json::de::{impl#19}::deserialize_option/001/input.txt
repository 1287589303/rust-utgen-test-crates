visitor must implement the de::Visitor trait, and the input must not be null, with valid types that the visitor can process.
