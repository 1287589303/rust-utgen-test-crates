buckets: any power of two; table_layout: valid TableLayout; alloc: valid Allocator; layout from calculate_layout_for must cause an allocation error.
