self must implement the SerializeMap trait, and the input Option<usize> can be None or Some(n) where n is non-negative usize.
