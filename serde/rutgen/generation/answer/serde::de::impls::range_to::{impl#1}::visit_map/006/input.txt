map.next_key() should return Ok(Field::End) at least once, map.next_value() should return Ok(val) at least once, end should not be set (None) initially, map.next_key() should return Err(err) at some point in the iteration.
