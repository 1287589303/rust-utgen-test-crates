self.delegate.serialize_struct(name, len + 1) returns Ok(val), state.serialize_field(self.tag, self.variant_name) returns Err(err), len is a non-negative integer (0 to N) and name is a non-empty static string.
