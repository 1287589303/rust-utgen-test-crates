self.cache.progress should be initialized with valid non-null values, self.cache.state_saver must hold a valid ToSave state, and old_id should correspond to a sentinel state (unknown, dead, or quit) in the DFA.
