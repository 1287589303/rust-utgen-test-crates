self.ranges contains at least one interval, other.ranges contains at least one interval, a equals drain_end equals the length of self.ranges, and self.folded is false
