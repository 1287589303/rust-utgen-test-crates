sid must be a valid StateID corresponding to a State::Ranges; at must be a valid index within the haystack; at_ch must equal start; at_len must be greater than 0; haystack must contain characters that correspond to the ranges defined in the state associated with sid; ranges must contain an inclusive range where start equals at_ch and end is less than at_ch.
