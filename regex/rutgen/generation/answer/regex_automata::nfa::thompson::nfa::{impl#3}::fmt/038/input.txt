self.states is non-empty, self.start_anchored and self.start_unanchored are distinct valid StateIDs, pattern_len is greater than 1, and self.byte_classes is valid.
