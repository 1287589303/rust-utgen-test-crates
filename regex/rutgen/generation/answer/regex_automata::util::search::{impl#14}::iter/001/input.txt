valid capacity values: 0 to max usize; valid PatternID values: valid indices within capacity; ensure 'which' is initialized to match capacity values; ensure 'len' reflects the number of true values present in 'which'
