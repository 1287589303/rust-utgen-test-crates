ptr must be a non-null pointer to a fully initialized value of type T obtained by calling get() with valid initialization provided by F.
