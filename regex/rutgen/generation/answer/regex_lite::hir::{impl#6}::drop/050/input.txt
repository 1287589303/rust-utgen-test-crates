*self.kind() must be either HirKind::Look(_) or HirKind::Char(_) or HirKind::Class(_) or HirKind::Empty and in case of HirKind::Capture or HirKind::Repetition, x.sub.kind.subs() must not be empty.
