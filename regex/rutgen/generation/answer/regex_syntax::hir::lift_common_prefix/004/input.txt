hirs must contain at least 2 elements, with the first element as a Concat kind, the second element of a different non-Concat kind, and the first element's prefix not being empty.
