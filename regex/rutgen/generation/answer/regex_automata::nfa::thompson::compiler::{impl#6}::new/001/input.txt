builder must be a mutable reference to an initialized Builder instance, state must be a mutable reference to an initialized Utf8State instance, and ensure that builder.add_empty() returns Err/None on invocation
