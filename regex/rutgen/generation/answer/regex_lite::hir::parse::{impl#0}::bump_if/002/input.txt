self.pattern must start with the prefix; the prefix must be a non-empty string; the position must be valid (0 to length of pattern - prefix.length); pattern must contain only valid characters (e.g., no control chars).
