self.ignore_whitespace() is true, self.is_eof() is false, self.char() is whitespace for the first iteration, self.char() is '#' for the next iteration, and the pattern contains a mix of whitespace and comments before reaching the end.
