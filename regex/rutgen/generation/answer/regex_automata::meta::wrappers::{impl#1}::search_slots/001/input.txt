cache must not be None, input must contain a haystack of at least 1 byte, slots must have a length that can vary from 0 to a maximum based on the NFA definition, with at least one valid NonMaxUsize expected if slots are not empty
