self must be StateSaver::None or StateSaver::Saved(_)
