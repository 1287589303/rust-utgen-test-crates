cache: valid mutable reference to Cache, input: Input<'_> with non-empty haystack, patset: mutable reference to PatternSet with sufficient capacity to insert PatternID::ZERO
