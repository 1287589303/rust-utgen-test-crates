start_anchored and start_unanchored must be valid StateID values (0 <= StateID < max_states) and start_pattern must be a non-empty slice of valid StateID values with a maximum size of max_patterns.
