self must be a State::Capture with a next value referencing a valid StateID index and remap must be a non-empty slice containing at least one StateID element with lengths matching the total count of possible StateID values (0 to max StateID index).
