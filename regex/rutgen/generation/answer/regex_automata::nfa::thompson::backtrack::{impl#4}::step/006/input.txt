cache.visited.insert(sid, at - input.start()) is true, *self.nfa.state(sid) is State::Union with at least one transition, alternates.get(0) must return Some(&sid), cache.visited.insert(sid, at - input.start()) will then be false when at is within bounds of input.end() and matches a valid transition
