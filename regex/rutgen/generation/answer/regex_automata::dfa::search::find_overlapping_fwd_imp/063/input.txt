state.id is None, input.haystack has at least one element, input.span.start < input.span.end, input.span.end <= input.haystack.len(), dfa is valid and has no start state, haystack[state.at] yields a value, state.at is a valid index within input.haystack, and match_index is not less than match_len.
