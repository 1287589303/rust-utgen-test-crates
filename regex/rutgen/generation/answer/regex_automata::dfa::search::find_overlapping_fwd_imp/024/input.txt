state.id should be Some(sid), state.next_match_index should be Some(match_len), match_len should be equal to match_index, and state.at should be greater than input.end()
