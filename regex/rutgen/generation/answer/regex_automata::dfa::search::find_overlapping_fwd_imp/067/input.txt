state.id is None, input.haystack length > 0, state.mat is None, state.at == input.end(), prefilter is None or matches condition, dfa returns valid state with match pattern
