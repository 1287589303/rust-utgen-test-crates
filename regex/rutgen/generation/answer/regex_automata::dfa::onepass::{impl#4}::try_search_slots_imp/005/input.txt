cache: non-empty Cache, input: Input<'_> with valid haystack and span, slots: mutable array of NonMaxUsize with even length, StateID corresponding to pid must be valid and exist in slots
