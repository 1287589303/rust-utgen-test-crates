P: IntoIterator<Item = G>, G: IntoIterator<Item = Option<N>>, where N: AsRef<str>, with 0 to 2 patterns, each having 1 to 3 groups with the first group being None and ensuring that additional group names are unique within individual patterns and that group indices don't exceed maximum SmallIndex; also test with empty iterators.
