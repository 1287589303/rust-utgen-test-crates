builder with a unique non-empty Vec<u8> representation, valid implementation of idmap function, cache states_to_id containing the corresponding bytes, and cache not exceeding minimum required clears
