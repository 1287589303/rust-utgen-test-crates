Hir with various HirKind values, greedy as true/false, and ensuring at least one of targets in State::Splits can be added; additionally, testing with a scenario where adding an empty state exceeds memory or state limits should produce an Err/None.
