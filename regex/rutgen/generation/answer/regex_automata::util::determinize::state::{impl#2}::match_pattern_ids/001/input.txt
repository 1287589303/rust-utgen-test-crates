self must be a valid State instance that has an appropriate underlying representation, and must cover cases where is_match returns true and false, with varying patterns including the absence, presence of one, and multiple PatternIDs.
