ast.kind must be CaptureName with name containing valid string lengths (0 to N) and starts_with_p set to false, while self.wtr must be able to return Ok for the first write_str but return Err for the second write_str operation.
