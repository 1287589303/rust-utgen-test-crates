input.haystack must have a length greater than 0, span.start must be less than span.end and <= input.haystack.len(), pre must be Some with a valid Prefilter, pre.find(input.haystack, span) must return Some with span.start > 0, and the DFA must have a valid transition for input.haystack elements indexed by at for the range 0 <= at < input.end.
