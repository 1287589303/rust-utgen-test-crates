replacement contains at least one '$' character followed by a capture reference, append should handle both numbered and named captures, name_to_index should map at least one named capture to a valid index, and dst should be a mutable Vec<u8> initially empty.
