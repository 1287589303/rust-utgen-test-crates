replacement: non-empty byte string containing at least one '$' not followed by another '$'; result of find_cap_ref is None for the given byte string; append function must support indices from 0 to n-1 where n is the total number of capture groups; name_to_index must return None for provided names that do not exist; dst must be a mutable Vec<u8>; edge cases where replacement has leading or trailing '$' and single character capture group names; consider scenarios with multiple capture groups and non-capture group characters
