new_capacity in the range [0, u32::MAX.as_usize()] including boundary cases 0 and u32::MAX.as_usize()
