self.which must be a non-empty boxed slice of booleans with at least one true value and at least one false value
