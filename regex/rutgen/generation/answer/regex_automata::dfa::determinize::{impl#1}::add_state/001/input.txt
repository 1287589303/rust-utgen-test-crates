self.config.quit should be empty; builder should create a state with zero transitions; self.dfa.memory_usage() should be less than or equal to limit if provided; self.memory_usage_state should be less than or equal to limit if provided; self.builder_states should not contain the state to avoid collisions; self.cache should not already contain the state; StateID limit should not be exceeded.
