ast.items contains at least one item, item.kind matches FlagsItemKind::Negation or FlagsItemKind::Flag, ast.items length is between 0 and a maximal reasonable size (e.g., 100), all flag values are valid, and include at least one negation and at least one flag type to cover all branches
