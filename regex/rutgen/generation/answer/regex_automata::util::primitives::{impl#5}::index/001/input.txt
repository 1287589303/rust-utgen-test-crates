input conditions: SmallIndex values from 0 to SmallIndex::MAX.as_usize() (valid index range), including boundary values 0 and SmallIndex::MAX.as_usize(), and also invalid cases to check error handling like an out-of-bounds index exceeding SmallIndex::MAX.as_usize()
