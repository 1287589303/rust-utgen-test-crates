self.pid should be an Option<PatternID> where PatternID can be Some(value) for a match and None for no match; test input conditions: (self.pid = Some(valid SmallIndex), self.pid = None)
