memory_usage should be tested with various cache sizes including edge cases: empty cache, cache with one state, cache with maximum size the system can handle, and caches with varying lengths to ensure the sum of forward and reverse memory usage returns the expected total.
