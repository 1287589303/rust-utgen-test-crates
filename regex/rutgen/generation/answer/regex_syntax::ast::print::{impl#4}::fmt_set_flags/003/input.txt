self.wtr must be a valid writer implementation, ast.flags must contain Flags with a non-empty items Vec and multiple types of Flags including at least one Flag and/or Negation, output must have conditions for writing success and failure with respect to `fmt::Result`
