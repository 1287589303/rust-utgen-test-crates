self.add_empty()? should trigger a failure, cls.ranges() must be non-empty with valid start/end byte ranges within [0, 255] and cls.iter() should produce at least one valid range.
