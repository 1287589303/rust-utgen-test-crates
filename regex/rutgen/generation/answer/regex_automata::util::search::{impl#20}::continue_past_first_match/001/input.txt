self must be of type MatchKind and can be either MatchKind::All or MatchKind::LeftmostFirst.
