input.haystack.length: 1 to 128, input.span: valid range, input.anchored: true or false, input.earliest: true or false, cache capacity: non-negative integer
