StateID values should be in the range of 0 to (max.state ID - 1) with edge cases at 0, max.state ID - 1, and values representing both premultiplied and non-premultiplied states, and must account for cases where the state may not be valid resulting in errors or exceptions.
