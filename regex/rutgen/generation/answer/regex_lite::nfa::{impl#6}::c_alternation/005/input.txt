Iterator yielding at least two Ok(Some(ThompsonRef)) results and valid StateID values for use in the patch function, while ensuring split having no empty state (precondition of valid states)
