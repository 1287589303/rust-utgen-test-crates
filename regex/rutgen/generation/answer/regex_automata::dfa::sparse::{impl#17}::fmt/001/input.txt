self.id should be a usize value between 0 and state_len - 1, f should be a valid mutable reference to fmt::Formatter, and fmt::Result should return Ok or Err based on the internal state of the Formatter.
