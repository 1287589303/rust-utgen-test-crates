Valid `hirs` inputs should be non-empty, contain valid `Hir` expressions, and the corresponding `Config` should have a proper `match_kind` and no limits exceeding 2^16 bytes; also test with an empty `hirs` array to verify BuildError handling.
