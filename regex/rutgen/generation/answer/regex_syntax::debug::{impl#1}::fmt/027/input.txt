Valid input range: non-empty byte arrays containing valid UTF-8 sequences, ASCII control characters (excluding '\0', '\n', '\r', '\t'), and the specific bytes '\0', '\x7f', '\x0b', '\x0c', where lengths and content must allow utf8_decode to return Some, with all write! calls returning Ok/Some.
