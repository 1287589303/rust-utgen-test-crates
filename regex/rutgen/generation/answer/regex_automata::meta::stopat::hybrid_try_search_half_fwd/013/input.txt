input.haystack length in the range [1, max_size], input.span start in [0, input.haystack.len()), input.span end in (input.span.start, input.haystack.len()], sid is initially a valid LazyStateID, and at in the range [0, input.haystack.len())
