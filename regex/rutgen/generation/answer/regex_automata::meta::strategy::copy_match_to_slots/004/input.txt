pattern ID within valid range [0, 127], span start and end values as usize within range [0, 1024] with start < end, and ensure slots array has a length of at least (pattern ID * 2) + 2
