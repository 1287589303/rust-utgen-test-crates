next.set.insert(sid) is true; sid is a valid StateID in the NFA; curr_slots is a non-empty slice; haystack has a length greater than at; at is within [0, haystack.len()]; self.nfa.state(sid) is in {State::Match, State::Ranges, State::Char, State::Fail}; slots must have enough entries to accommodate slot indices within curr_slots.
