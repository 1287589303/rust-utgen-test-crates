f should be a mutable reference to a valid fmt::Formatter instance, self.states() should return an empty iterable, self.starts() should return at least one tuple with anchored being Anchored::Yes, self.st.stride should be an even number, self flags should indicate that it can produce a valid result for the state and pattern lengths, and self.ms.len() should be greater than 1.
