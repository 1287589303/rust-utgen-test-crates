T must be either Vec<u32> or &[u32], slices and pattern_ids must be non-empty with at least one pair of offsets and lengths, and pattern_len must be a non-negative integer less than or equal to the length of pattern_ids.
