f: &mut fmt::Formatter<'_> is not null, self.tt.states() has at least one state, self.st.iter() has at least one entry, self.st.stride is non-zero, self.flags is valid and patterns are properly initialized, each start_id and state are valid and within expected ranges
