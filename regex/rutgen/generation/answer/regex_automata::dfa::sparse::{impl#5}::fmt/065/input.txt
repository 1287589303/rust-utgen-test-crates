state length must be greater than 0, number of states in self.tt must be 0, self.st must be empty, flags must indicate has_empty is false, and the pattern length must be 0.
