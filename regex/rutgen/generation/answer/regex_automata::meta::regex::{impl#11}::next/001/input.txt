caps must contain non-empty captures with valid PatternID and corresponding Span; input must be a match against the Regex compiled from valid patterns with at least one matching group.
