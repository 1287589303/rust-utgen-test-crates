pattern: PatternID in valid range; span.start and span.end both in range [0, MAX_USIZE] with span.start <= span.end.
