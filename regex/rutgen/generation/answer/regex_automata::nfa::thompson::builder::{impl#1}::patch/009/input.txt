self.states contains at least one StateID entry indexed by 'from' that points to a valid State::UnionReverse, 'to' is a valid StateID that when patched does not increase memory usage, and initial memory_states matches size limit conditions.
