self.states should contain at least one CaptureStart state for from, the to StateID should be a valid StateID, and the memory usage change from old_memory_states to memory_states should not exceed the size limit set in the Builder.
