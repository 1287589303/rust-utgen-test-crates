self.states[from] is a State::Union type, self.memory_states is unchanged, the maximum size limit must not be exceeded during patching, and both from and to must be valid StateID values within the bounds of self.states.
