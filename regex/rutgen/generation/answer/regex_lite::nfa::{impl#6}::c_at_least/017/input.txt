n = 0, self.c(hir) is Ok/Some, self.add(State::Splits { targets: vec![], reverse: !greedy }) is Err/None, greedy can be true or false
