slice: &[u8] with valid length >= 4 + (2 * state_len * PatternID::SIZE) + 4 + 4 + (idlen * PatternID::SIZE) and properly aligned addresses
