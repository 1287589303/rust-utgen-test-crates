slice length >= 8, state_len > 0, pair_len > 0, PatternID::SIZE must be 4, slice alignment must be valid, and match state slices must exactly fill the remaining slice after reading state_len and pattern_len.
