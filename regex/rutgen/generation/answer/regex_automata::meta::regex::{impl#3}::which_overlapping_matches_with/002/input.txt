input.haystack should be a non-empty byte slice, input.span should cover valid ranges within the haystack, cache should contain a valid Cache object, and patset should be initiated properly with a size greater than 0.
