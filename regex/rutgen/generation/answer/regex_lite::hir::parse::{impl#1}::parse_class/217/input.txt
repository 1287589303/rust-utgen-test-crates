self.pattern should be a string starting with '[^' followed by at least one valid class item or range, eventually ending with ']', and with flags set to enable case insensitivity; ensure no nested classes and valid class range items.
