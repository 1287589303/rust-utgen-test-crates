ast: Assertion with span of valid range, kind from all possible AssertionKind variants, and valid writer W that implements fmt::Write
