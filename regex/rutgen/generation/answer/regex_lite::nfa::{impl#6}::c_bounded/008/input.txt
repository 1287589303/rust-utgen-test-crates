valid inputs for `min`: 1 to 10, valid inputs for `max`: 2 to 20, valid inputs for `greedy`: true or false, valid input for `hir`: non-null reference to `Hir` struct, allow `min` to be less than `max` to satisfy control flow logic, ensure `add_empty` returns `Ok` to avoid short-circuiting the function.
