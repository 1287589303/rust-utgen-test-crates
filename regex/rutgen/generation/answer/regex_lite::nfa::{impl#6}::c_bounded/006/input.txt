Config with valid size_limit; hir pattern supporting min and max with min < max; greedy boolean true/false; min, max in range [0, MAX_BOUND] where MAX_BOUND depends on internal limit; state checks for capacity to add new states; ensure valid prev_end state id before patching.
