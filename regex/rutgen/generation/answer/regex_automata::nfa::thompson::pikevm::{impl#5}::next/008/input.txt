haystack length > at, at + 1 < haystack length, sid refers to a DenseTransitions state, valid input for dense.matches, ensure dense.transitions has valid StateIDs
