self must be a State::Dense variant with a Box<[StateID]> containing at least one element, and f must be a mutable reference to a valid fmt::Formatter that can encounters an error when attempting to write the formatted output.
