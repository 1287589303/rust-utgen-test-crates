State::Dense must have transitions with at least one transition that forces write!(f, "{:?}", t)? to return Err/None through a problematic transition object.
