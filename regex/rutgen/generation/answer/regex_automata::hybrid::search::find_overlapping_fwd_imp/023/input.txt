state.id = Some(sid), state.next_match_index = Some(match_index), match_index == match_len, state.at > input.end()
