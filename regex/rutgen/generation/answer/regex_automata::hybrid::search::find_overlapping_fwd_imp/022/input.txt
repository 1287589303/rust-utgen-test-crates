state.id must be Some(sid), state.next_match_index must be Some(match_index), match_index must be less than match_len, input.haystack length must be greater than state.at, and dfa must yield a valid next_state from current sid with an input byte at state.at.
