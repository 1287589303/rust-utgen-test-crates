*ast must be of type Ast::Concat with x.asts = [] or x.asts = [Ast] with one or more valid Ast items, ensuring conditions for both empty and non-empty cases.
