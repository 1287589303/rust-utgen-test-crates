input haystack of varying lengths and characters (including edge cases: empty strings, strings with special characters, and large inputs), with span ranging from valid indices (0 to haystack length) and anchored set to both true and false, ensuring cache is appropriately initialized before each call
