self should have a non-empty stack containing at least one HirFrame of type HirFrame::ClassUnicode, and the stack must not have an HirFrame of type HirFrame::Alternation at the top.
