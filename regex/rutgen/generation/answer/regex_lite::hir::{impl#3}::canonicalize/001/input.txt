self.ranges must contain at least one ClassRange with start less than end, representing valid contiguous ranges in a sorted order.
