self.mat must be None or Some(HalfMatch { pattern: PatternID, offset: usize }) where PatternID is a valid identifier and offset is within the range of valid search offsets (0 to maximum valid search position).
