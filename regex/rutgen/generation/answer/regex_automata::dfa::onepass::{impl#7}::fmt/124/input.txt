state_len > 0, pattern_len > 0, starts not empty, index < state_len, i > 0, sid != DEAD, f writable, transitions exist for patterns
