self.len() > 0 and for all i in [0, self.len() - 1], self.pattern_len(i) >= 0, and for some j in [0, self.pattern_len(i) - 1], self.pattern_len(i) > 0
