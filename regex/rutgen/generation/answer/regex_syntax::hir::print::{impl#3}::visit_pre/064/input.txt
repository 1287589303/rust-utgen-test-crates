HirKind values: HirKind::Empty, HirKind::Class(hir::Class::Unicode(ref cls)) with non-empty ranges, cls with matches covering all Unicode and byte class ranges, and a writable output where self.wtr.write_str("[") and self.write_literal_char(range.start()) return Err/None.
