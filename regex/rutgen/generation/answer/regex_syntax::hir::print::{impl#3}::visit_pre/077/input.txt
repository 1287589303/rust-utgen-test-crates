HirKind should be either HirKind::Empty, HirKind::Class(hir::Class::Unicode(ref cls)) with non-empty ranges, or HirKind::Class(hir::Class::Bytes(ref cls)) with non-empty ranges; self.wtr should successfully write the necessary strings without errors.
