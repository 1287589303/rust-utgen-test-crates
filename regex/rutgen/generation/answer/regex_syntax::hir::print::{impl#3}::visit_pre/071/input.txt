HirKind should be Class(hir::Class::Bytes(ref cls)) or Class(hir::Class::Unicode(ref cls)); cls.ranges().is_empty() should be false; cls.iter() should contain at least one range with range.start() < range.end(), leading to range.start() + 1 not equaling range.end() and expecting write_literal_char(range.start()) to return an error.
