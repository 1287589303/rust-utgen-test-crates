*hir.kind() = HirKind::Empty OR *hir.kind() = HirKind::Class(hir::Class::Bytes(ref cls)) OR *hir.kind() = HirKind::Class(hir::Class::Unicode(ref cls)) AND cls.ranges().is_empty() = false AND self.wtr.write_str("[")? = Ok/Some AND range in cls.iter() = true AND range.start() == range.end() = false AND u32::from(range.start()) + 1 == u32::from(range.end()) = true AND self.write_literal_char(range.start())? = Err/None
