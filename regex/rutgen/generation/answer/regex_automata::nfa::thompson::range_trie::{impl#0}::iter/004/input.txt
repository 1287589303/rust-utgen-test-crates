state_id must be ROOT, tidx must be in the range [0, state.transitions.len() - 1], state.transitions must contain at least one transition where t.next_id equals FINAL, f should accept non-empty ranges, and ranges must be long enough to accommodate the transitions being processed.
