state_id must be valid and correspond to a non-final state, state.transitions must contain at least one transition, tidx must be within the valid range of transitions for the state, and t.next_id must be a valid StateID that does not equal FINAL.
