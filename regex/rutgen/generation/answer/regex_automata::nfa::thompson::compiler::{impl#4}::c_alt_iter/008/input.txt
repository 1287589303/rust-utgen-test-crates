Iterator yields at least two valid ThompsonRef instances on `it`, both resulting in Ok/Some when unwrapped; add_union returns Ok/Some; add_empty returns Ok/Some; patch operations for the first ThompsonRef succeed, while patch operation for second ThompsonRef's end returns Err/None.
