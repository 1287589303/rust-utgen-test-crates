self must be an instance of Ast::ClassBracketed, Ast::Repetition, Ast::Group, Ast::Alternation, or Ast::Concat, while also being not an instance of Ast::ClassUnicode, Ast::Literal, Ast::Flags, Ast::Empty, Ast::Assertion, or Ast::Dot.
