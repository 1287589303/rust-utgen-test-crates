State::Ranges has at least one range, i == 0, and the write operation returns Err/None.
