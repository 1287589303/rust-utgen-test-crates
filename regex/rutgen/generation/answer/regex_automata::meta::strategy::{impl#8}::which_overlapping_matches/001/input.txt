the input cache must not be null and must be a valid Cache instance; the input must not be null, should contain a non-empty haystack of type &[u8], and must have valid properties for span and anchored; the patset must not be null, should have a valid len value within range [0, maximum allowed patterns] and which bool array initialized with the same length as len
