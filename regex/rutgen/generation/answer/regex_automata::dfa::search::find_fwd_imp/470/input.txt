dfa is expected to have a valid universal start state, pre is a Some containing a valid prefilter, input.haystack is non-empty with length > 0, input.end > 0, span in pre.find is a valid range, at is within the bounds of haystack, sid is initialized and considered a valid state, validate by setting an invalid state when sid is special, and that match states are valid with at < input.end while performing transitions.
