self.pattern should be a single-line string (e.g., "abc"), f should not allow writing (e.g., a non-writable stream), and err should be a valid object that implements fmt::Display.
