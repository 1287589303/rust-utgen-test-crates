Pattern must be a valid regex string, haystack must be a valid UTF-8 string of length 0 to N, where N is the maximum permissible string length (including edge cases like empty string, strings with no separators, strings with only separators, and strings with contiguous separators).
