replacement string is non-empty and does not contain any '$' characters, name_to_index returns None for any input, dst is initialized as an empty String
