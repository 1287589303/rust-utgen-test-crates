cache must be an initialized Cache instance, input must be an initialized Input instance with a valid haystack (byte array), slots must be a mutable slice with at least one element initialized to None, input.get_anchored() returns Anchored::No, input.start() < input.end(), and nfa's start_anchored() must return a valid StateID.
