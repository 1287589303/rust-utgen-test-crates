pattern: non-empty string of valid Unicode characters (1 to N characters), self.pos: 0 to N-1 where N is length of pattern
