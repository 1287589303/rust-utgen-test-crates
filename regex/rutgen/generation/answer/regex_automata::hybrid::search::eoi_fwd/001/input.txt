input.haystack length > sp.end, sp.end == 0 to max valid index of haystack, sid initialized to any LazyStateID, cache set with appropriate transitions for the input byte, mat initialized as None or Some with HalfMatch
