self should be of type State::Char, State::Goto, State::Capture, State::Fail, or State::Match.
