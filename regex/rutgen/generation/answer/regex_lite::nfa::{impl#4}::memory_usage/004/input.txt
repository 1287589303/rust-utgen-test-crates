self is of type State and can be State::Char, State::Match, State::Fail, State::Capture, or State::Goto; all return 0; in addition, for State::Splits, targets.size() should be in range [0, N], and for State::Ranges, ranges.size() should be in range [0, M], where N and M are arbitrary non-negative integers.
