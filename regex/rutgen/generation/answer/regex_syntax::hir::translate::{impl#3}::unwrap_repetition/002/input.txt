self must be an instance of HirFrame::Repetition
