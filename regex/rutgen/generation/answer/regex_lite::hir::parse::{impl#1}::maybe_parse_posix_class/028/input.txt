self.pattern must start with '[[:', contain only valid POSIX class names, followed by ']]', and the parser must reach the end of the pattern without finding a closing ']'
