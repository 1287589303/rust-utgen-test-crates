cache: valid mutable reference to Cache, input: Input with non-empty haystack and valid anchoring type, patset: PatternSet with len > 0 and corresponding which array populated with bool values
