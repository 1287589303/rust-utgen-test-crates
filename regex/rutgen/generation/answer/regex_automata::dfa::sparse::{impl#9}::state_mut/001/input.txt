id.as_usize() must be a valid index within the range [0, state_len-1], ntrans must be greater than 0, and npats must be within the range [0, 256].
