self.chunks() returns an empty iterator or an empty state, resulting in no iterations for (i, chunk) in self.chunks().enumerate() at line 420.
