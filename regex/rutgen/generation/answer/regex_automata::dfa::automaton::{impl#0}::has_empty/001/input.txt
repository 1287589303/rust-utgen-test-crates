self should be a valid reference to an Automaton implementation, potentially with different states (valid StateID values) to check the has_empty behavior; expect a boolean return value for various automaton configurations, including edge cases of empty patterns and non-empty patterns.
