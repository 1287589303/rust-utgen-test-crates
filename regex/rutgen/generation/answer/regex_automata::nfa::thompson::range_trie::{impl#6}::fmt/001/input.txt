self.range.start and self.range.end must be equal and within the valid UTF-8 byte range (0 to 255), and self.next_id must be a valid StateID.
