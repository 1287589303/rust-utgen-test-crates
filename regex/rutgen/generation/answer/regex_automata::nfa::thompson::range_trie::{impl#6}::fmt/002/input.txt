self.range.start should be less than self.range.end, and both should be valid UTF-8 code points within the range 0 to 0x10FFFF, and next_id must be a valid StateID.
