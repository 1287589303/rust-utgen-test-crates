self.c_capture must return Ok with valid captures, self.add must be called with State::Match when the state ID limit is reached
