input should have a non-empty haystack, a span where start < end, and the dfa should return an error or None when calling init_rev(dfa, input)
