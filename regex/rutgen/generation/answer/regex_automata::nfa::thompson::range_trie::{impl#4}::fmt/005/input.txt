self.states must not be empty and must contain at least one State; the final state must not be the only entry; StateIDs must be valid and not exceed the predefined maximum; and each State must implement fmt::Debug trait correctly.
