self.literals is None; lit can be any valid Literal struct; test input should check both scenarios where self.literals is None and where it's Some with adjacent and equivalent literals
