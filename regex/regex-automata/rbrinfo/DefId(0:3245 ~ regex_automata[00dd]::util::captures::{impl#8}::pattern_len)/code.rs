fn pattern_len(&self) -> usize {
        self.slot_ranges.len()
    }