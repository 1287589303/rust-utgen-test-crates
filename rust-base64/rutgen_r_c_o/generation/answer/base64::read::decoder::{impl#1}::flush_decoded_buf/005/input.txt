self.decoded_len > 0, buf.len() > 0, copy_len == 1 to DECODED_CHUNK_SIZE, buf capacity >= copy_len, buf length < BUF_SIZE, decoded_offset < DECODED_CHUNK_SIZE
