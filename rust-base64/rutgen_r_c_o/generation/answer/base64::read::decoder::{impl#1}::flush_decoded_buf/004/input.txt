self.decoded_len = 1 to 2, buf = array of size 1 to DECODED_CHUNK_SIZE with sufficient space, self.decoded_offset = 0 to copy_len - 1
