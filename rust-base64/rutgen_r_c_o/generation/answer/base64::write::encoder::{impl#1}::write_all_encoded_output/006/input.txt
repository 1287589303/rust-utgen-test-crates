self.output_occupied_len = 0, and self.output is a valid buffer of size BUF_SIZE
