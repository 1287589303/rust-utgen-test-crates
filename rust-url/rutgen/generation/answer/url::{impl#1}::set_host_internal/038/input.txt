self.host_end must be greater than self.host_start; opt_new_port must be Some(Some(port)); port must be within 1 to 65535; self.query_start must be initialized and within bounds; self.fragment_start must be initialized and within bounds; self.serialization must be a valid UTF-8 string containing the new host and port.
