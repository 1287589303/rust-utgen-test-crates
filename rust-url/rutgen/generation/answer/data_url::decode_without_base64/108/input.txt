encoded_body_plus_fragment: "", encoded_body_plus_fragment: "abc", encoded_body_plus_fragment: "abc%20def", encoded_body_plus_fragment: "abc%20def#fragment", write_bytes: fn to accumulate results or simulate errors, populate fragment with empty and valid utf-8 encoded values, assert return types Result<Option<FragmentIdentifier<'_>>, E> for both success and failure cases.
