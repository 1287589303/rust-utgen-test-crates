type_: non-empty valid string, subtype: non-empty valid string, parameters: list of tuples with non-empty name (valid HTTP token) and value (contains invalid characters), empty value; f.write_str returns Ok/Some for initial strings and Err/None on line 160.
