self is of type Either<L, R> where L and R are both types implementing Write, and $pattern must be a valid instance of type L or R for which the flush method does not panic and correctly returns io::Result<()>
