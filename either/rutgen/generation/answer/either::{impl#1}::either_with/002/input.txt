self must be an instance of Either with Left variant containing a valid type L, ctx must be a mutable reference of type Ctx, f must be a function accepting parameters of types (Ctx, L) and returning type T, g must be a function of type (Ctx, R) returning type T, and R must be a valid type distinct from L.
