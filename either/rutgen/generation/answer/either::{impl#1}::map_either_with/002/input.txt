self should be of type Either<String, usize> with the variant Left containing a String, ctx should be a mutable reference to a usize, f should be a closure that takes a mutable usize and a String and returns a value of type M, L should be of type String, and M should be of any type convertible from the return type of f.
