self must be of type Either with Right variant containing a type that implements Read, buf must be a mutable reference to a String, and it should be non-empty to test edge cases for reading.
